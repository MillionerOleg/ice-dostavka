2022-01-28 14:07:10 - DATABASE_ERROR - <hr><pre>Query:
CREATE TABLE b_learn_test
(
	ID int(11) not null AUTO_INCREMENT,
	COURSE_ID int(11) not null REFERENCES b_learn_course(ID),
	TIMESTAMP_X timestamp not null default current_timestamp on update current_timestamp,
	SORT int(11) not null default '500',
	ACTIVE char(1) not null default 'Y',
	NAME varchar(255) not null,
	DESCRIPTION text,
	DESCRIPTION_TYPE char(4) not null default 'text',
	ATTEMPT_LIMIT int(11) not null default '0',
	TIME_LIMIT int(11) default '0',
	COMPLETED_SCORE int(11),
	QUESTIONS_FROM char(1) not null default 'A',
	QUESTIONS_FROM_ID int(11) not null default '0',
	QUESTIONS_AMOUNT int(11) not null default '0',
	RANDOM_QUESTIONS char(1) not null default 'Y',
	RANDOM_ANSWERS char(1) not null default 'Y',
	APPROVED char(1) not null default 'Y',
	INCLUDE_SELF_TEST char(1) not null default 'N',
	PASSAGE_TYPE char(1) not null default '0',
	PREVIOUS_TEST_ID int(11)  REFERENCES b_learn_test(ID),
	PREVIOUS_TEST_SCORE int(11) default 0,
	INCORRECT_CONTROL char(1) not null default 'N',
	CURRENT_INDICATION int(11) not null default '0',
	FINAL_INDICATION int(11) not null default '0',
	MIN_TIME_BETWEEN_ATTEMPTS int(11) not null default '0',
	SHOW_ERRORS char(1) not null default 'N',
	NEXT_QUESTION_ON_ERROR char(1) not null default 'Y',
	PRIMARY KEY (ID),
	INDEX IX_B_LEARN_TEST1(COURSE_ID),
	INDEX IX_B_LEARN_TEST2(PREVIOUS_TEST_ID)
)

Error:
<font color=red>[1005] Can't create table `ice_db`.`b_learn_test` (errno: 150 "Foreign key constraint is incorrectly formed")!</font></pre><br><hr><pre>Query:
CREATE TABLE b_learn_attempt
(
	ID int(11) unsigned not null AUTO_INCREMENT,
	TEST_ID int(11) not null REFERENCES b_learn_test(ID),
	STUDENT_ID int(18) not null,
	DATE_START datetime not null,
	DATE_END datetime,
	STATUS char(1) not null default 'B',
	COMPLETED char(1) not null default 'N',
	SCORE int default 0,
	MAX_SCORE int default 0,
	QUESTIONS int(11) not null default '0',
	PRIMARY KEY (ID),
	INDEX IX_B_LEARN_ATTEMPT1(STUDENT_ID, TEST_ID)
)

Error:
<font color=red>[1005] Can't create table `ice_db`.`b_learn_attempt` (errno: 150 "Foreign key constraint is incorrectly formed")!</font></pre><br><hr><pre>Query:
CREATE TABLE b_learn_test_result
(
	ID int(11) unsigned not null AUTO_INCREMENT,
	ATTEMPT_ID int(11) unsigned not null REFERENCES b_learn_attempt(ID),
	QUESTION_ID int(11) not null REFERENCES b_learn_question(ID),
	RESPONSE text,
	POINT int not null default 0,
	CORRECT char(1) not null default 'N',
	ANSWERED char(1) not null default 'N',
	PRIMARY KEY (ID),
	INDEX IX_B_LEARN_TEST_RESULT1(ATTEMPT_ID,QUESTION_ID),
	INDEX IX_B_LEARN_TEST_RESULT2(QUESTION_ID, ANSWERED, CORRECT)
)

Error:
<font color=red>[1005] Can't create table `ice_db`.`b_learn_test_result` (errno: 150 "Foreign key constraint is incorrectly formed")!</font></pre><br><hr><pre>Query:
CREATE TABLE b_learn_gradebook
(
	ID int(11) unsigned not null AUTO_INCREMENT,
	STUDENT_ID int(18) not null,
	TEST_ID int(11) not null REFERENCES b_learn_test(ID),
	RESULT int,
	MAX_RESULT int,
	ATTEMPTS int(11) not null default '1',
	COMPLETED char(1) not null default 'N',
	EXTRA_ATTEMPTS int(11) not null default '0',
	PRIMARY KEY (ID),
	UNIQUE UX_B_LEARN_GRADEBOOK1(STUDENT_ID,TEST_ID)
)

Error:
<font color=red>[1005] Can't create table `ice_db`.`b_learn_gradebook` (errno: 150 "Foreign key constraint is incorrectly formed")!</font></pre><br><hr><pre>Query:
CREATE TABLE b_learn_certification
(
	ID int(11) unsigned not null auto_increment,
	STUDENT_ID int(18) not null,
	COURSE_ID int(11) not null REFERENCES b_learn_course(ID),
	TIMESTAMP_X timestamp not null default current_timestamp on update current_timestamp,
	DATE_CREATE datetime,
	ACTIVE char(1) not null default 'Y',
	SORT int(11) not null default '500',
	FROM_ONLINE char(1) not null default 'Y',
	PUBLIC_PROFILE char(1) not null default 'Y',
	SUMMARY int(11) not null default '0',
	MAX_SUMMARY int(11) not null default '0',
	PRIMARY KEY(ID),
	INDEX IX_B_LEARN_CERTIFICATION1(STUDENT_ID, COURSE_ID)
)

Error:
<font color=red>[1005] Can't create table `ice_db`.`b_learn_certification` (errno: 150 "Foreign key constraint is incorrectly formed")!</font></pre><br><hr><pre>Query:
CREATE TABLE b_learn_test_mark (
  ID int(11) not null auto_increment,
  TEST_ID int(11) not null REFERENCES b_learn_test (ID),
  SCORE int(11) not null,
  MARK varchar(50) not null,
  DESCRIPTION text null,
  PRIMARY KEY (ID),
  INDEX IX_B_LEARN_TEST_MARK1(TEST_ID)
)

Error:
<font color=red>[1005] Can't create table `ice_db`.`b_learn_test_mark` (errno: 150 "Foreign key constraint is incorrectly formed")!</font></pre>
